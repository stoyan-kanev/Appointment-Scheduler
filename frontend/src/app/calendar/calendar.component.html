<section class="booking-wrapper">
    <div class="calendar-container">
        <div class="calendar-header">
            <button mat-icon-button (click)="changeMonth(-1)">
                <mat-icon>chevron_left</mat-icon>
            </button>
            <h2>{{ currentDate | date: 'MMMM yyyy' }}</h2>
            <button mat-icon-button (click)="changeMonth(1)">
                <mat-icon>chevron_right</mat-icon>
            </button>
        </div>

        <div class="calendar-grid">
            <div class="day-label" *ngFor="let day of dayNames">{{ day }}</div>
            <div
                class="day-cell"
                *ngFor="let day of daysInMonth"
                [class.today]="isToday(day?.date)"
                [class.selected]="selectedDay === (day?.date | date:'yyyy-MM-dd')"
                (click)="selectDay(day)"
            >
                {{ day?.date?.getDate() }}
            </div>
        </div>

        <div class="time-slots" *ngIf="showSlots && selectedDay">
            <h3>{{ 'Available Times'}}</h3>
            <div class="time-grid">
                <button
                    *ngFor="let time of getSelectedDaySlots()"
                    class="time-btn"
                    [class.selected-time]="false"
                    [disabled]="isSlotReserved(time)"
                    (click)="openReservationPopup(time)"
                >
                    {{ time }}
                </button>
            </div>
        </div>
    </div>
</section>
